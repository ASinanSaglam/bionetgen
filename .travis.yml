os:
  - linux
  - osx


language: c++
sudo: false


env:
  global:
#       FTP_USER_0
    - secure: "hnGm8cr+5yBAl4k4XUyMpmiePMDp6JJPOBcZYcDOdmCjALkdtC1OVUmLhe6fbCAZ/efF4P6qBid/S3Qk/OjfUMMYAxhpqTMx3IYFnxktUR2mRlmua9zGbCAGRQ7eF7EcdpwIHv5qUlHmb8NTqD6T5GHL+822pmcQE/mPZkyvuqjFOVYO88fDRF87jIYmIUQRqCCUSkn2OVKx9l58G33H8T3qVyibykJyerSSgZx3CxOtmSb8cn1n6c+APCFL/ACiegskd5GdcZsBZXqCo+EgBe2z4iaLeo+9Blopi3hJln5rT4xmnDbJTdGLUp0IarXrZWY/qibT7X74aoyfW575AFqWRkIhRvCKtAjdxbru6ESwWdbcnXUrg8lClxoLJMq88GXuyiqT2dukrBGVe7Oma0gv5AleOOlX0sC2WhX+Zu2WtUZud0vbxGGdCqWXVZdyRUiGXaZI89imonMBQvKso3vobQFdCM6AdsyM+Dn5eKlifYyerfjZS1IYgPYYLGdjBU7aMvacavyxMHR2mMtS8ZH0SgrhV1VoxoBi7SdBPsUOo7oquQzxkSzopE5OYy/cIaK4fiaQlxmP+zQg87pvQmptaYigHLTntJ4UkQExgjOFuYH08I09plYmShrVV1jQXIIEvOKF473B7sKJhro2xqbXu+h8wl90b/ck7XkrPhM="
#       FTP_USER_1
    - secure: "jDCJH/4LWXIaYrbpOyoBmdg1YTvfqaUhD+mWbHL6SKYKdTEG+qYO5f0sz8LXcEcZYTYc5SP/2jS9wMO5eOFv+m8yJIqkd0gwc1rvwSO/vFhgISEVw2CCK+12edtFWrSi92eKWwqy+6RMmp6uAIYjZuqXTm+LjXOsxdBfVcuCve7UAJjRzTGEFKKeiC+fZZxZxG6LQ+BwDzJ2lElyB4CSVO4Z0euoW+p5aoT6zWsyRPL9STY+mqaAJt9pl3EQ+Sf3fkyJx7mIjm4VDmmfN8Dg8xdsqJwr6GZQMisEATewWInsGI+rvtDchG5ojWGgnY1/D2on5Cp8D+BRQXBd0e1PrWC6XTgifATh/mB0iKK9eCUph1vqTa52Kga9htaCJ0ZEfQRI0DhXtbgmmcEhxMjl35kbwIaLoT69UCU0S1dRLtqoMHUu2rC/76stjVaB+Dq7DiNjYfPnsY1g7+9hNgjWUJz3y9VIlD/YmXpcZI5VJIF+OT3k/FTqFh5pG3hjBaUEsVp5VLoV5PvQ9GfThVKWSLYrdWJ1oTIUZjcEfU1nxV6+N61QhYk9x+A+L3bOO5gfsLfps6J4esbbzHdxQAOD7+rBy6w8o3YyrDWADyZ/sa3xI79qjGFmKv9/81butkyo31HbYgDqD22jp8EbFUEvClPB+zPLQzIJF7jOjtU2a9c="    
#       FTP_PASSWORD
    - secure: "k4LDmoek9euxvKB39fBugp4f4M4hFtuNfC9HL9ei6WcgnD5An0XJP4+nW4qJLpPYnNtdrPlmP21qv2UTO6CijKjuHhsrM0Bbf4vyI1I+QAoxY/mc5iyYTSe+CtHQY/GznsZLzfEtkxE8wGc028/RSof1sn1y2M6bMDw9J5RQvUS8WYmTORcdzDppSWwjMbkofTTabyhrnz+5Eg8xKW7Az1CwIpOGTXq2BDMkMGfwmMRWcKrPKmuHLX31mX7FFiDoKR72I/T8cKSwPcZJ8jR7bXWuRM9rsX/kEQTybM8PQD9COxIV5tdmzJ09asCCeAIDq7VC+TCpvfieKCOZH9wz6sqfLbG8NIAcakcF2/pb2vb5L8c1yIgrUpbSjTzD/+IpMzdkoHoAK28BJETIZOTQf4vykA5gxTQoeO6l3Yt4cWagnL31Pm1bjAt+zz441EStNiXk3S7oyjwgb7TM571BjXAZ8UXr+OfLMl4gSWtNiEKXjq+KmYG0EoMkG6AM4r3IIFQKj5CJs8BWl3l3gI4fdSx7sy12pMqVMSxeQLwGwabAHZnOjlPF1sTzi8t5GdkHsZHT6DTMkiEoOkt6L+lcUsm3SQvju+QfALJvlbHjq1A8TJLPZjsOjWnC5/u9Fe8ysICA0ie4DzJoKoL9ol361+HeZ7C4OGhX2i9I6wP/2D8="

#       FTP_USER_0
#    - secure: "vl6Rj0dBpNo8WvOX/ZMpQt6t+Hj+ELbpMg1uyoH19HTp6QuoQiDhDzx7Asc6xLckaVkJKSD5f7iX/uKrzuEf7RHoT1B98Wz0CsWhQX1N0TNCQoq6mAsFWI//7cLM13uCv1MnkROII7fS/MTLkeAciDH1GaK7YIWG0+rAMlOacaa9J+2743fPBK2gmtt6NoJeF78tu0ySEu7nKodCjY58ej+rrcvwToIOJ57rd8ZJqb/16kndUEkDEUuqCg2JDG27gDOZW+tHjGjdEa3QVM7bpd1NkXF9na1Q/uvOduZd2bODJ+ymZnpQBy4jIg+AMC72kGPatJf3+xpSzBp3ckSqb8wdFWE85OAnUQpuzwIiLL7W31lj/9Vxfh02C2k1KRHJk6Z7yUqPjydc4bksH9Gk1g3acbV49sJlBANM5BGMzrIiBHiBiJGWOtHAbckLpR1GFD+FMnqErduIB2/NEBoJndNknS51Yfyi5Nag2m3xFPpvzj7UPUOjM/mEfX9L/aK+kt71RkCvKJyB++R/4H8/pUoJmC+Fv6xC+wEXyUZrDPjeBJy+a6cd9trZ/cI5jufNSwPKKAoitvsxArTte/DNQTUfr4pTv2hrZiGmxVS6UGys4+lu8z7fnpQNV5xPjK4ZUc939T6tsZ+LOjGp3YNN6Vkw7ior4wsDC0zeym/AoEs="
#       FTP_USER_1
#    - secure: "o6rFxVXIQhtljDZSf6LRcXDt5tqZly/JovXAZiIqWqol21cbu43t3ZcczpRJpssADW/HTqJeTDAo/2WSR6n8B/Rp8ytMcyfjuwQmA/Xqj7mHjivJca0yw707apxyGZQgzIMeGH+JugtfEf9Jz+RA1QqLgR8IgiibCzi9ppvJ3+R7fDZdgPq5h6/FBIO6V6UFa29dd3p0rh+9TURaEGYy1mjmUk3wLw5HnOzwl7gNtIvmpRr3iR2EFM8cgjerm7uduNq0zUGrjQFZjxqmc2ypY8kEMT51tXI2DoBrm376JtON8pJdkOvS9of1anPcvbyLY0nIvIkmjZXzL1ubvW57dlnQc/TSuXPJ3miz6cDWraXhNCGnlBTWsbYAp2fNyzsKZpQ7fvjy1WRa9iRzAJcTqGeSEn31kSyjjROUwIuSf7KwqT6Bksx/HA/s1J/oCQgs5iit8dc//uT9myQz+pk+8cFt8ngM3J7ZczKU5Ir754n02Aj3ub0o9D6j7wyP2h2HkrVXxHNcap8QcRWcfUHlXhugNs4HbgB8m3VMe6+CjLo1Olsliwr4CtTc4oJLXuBrtLJNZDcXZMqYdOAO6DL6s6/2kfWLjgU0ZT9I1/t+4+LMKG3wkXJHlqf5fShvlidcd9PYPz4oF4LI/Lq+LjeuwAgnlYZOI4n1P2KWrXnqNIY="
#       FTP_PASSWORD
#    - secure: "yqdFkPAGs0HhRTVjuNuVygmeE9tMvWzxsrvORcGVzQF9uA3ZGnaIX2qo4DajXe0ZL8OddtmcwITzNTWTJ2fghySVoSekbhPCCODMY0V2vBNj9Rg8JwPpvZGxnarjqw89ro+KgZFz/ZpyBUWbsT5qMFmnjEsJResIQSaSgeVXcLBF6CyxkJgvw/PF1UVR+oVD0Kwyw+QYGY9bsUqq4HXEJqJ7twQEt/44UQoF5FZubjn12W4L8ux7E2svkMU2VT2ZN9594u19z8e69jCKsDwzqoJjkLWNenKzq9DQA1MbNvl5YgCaCmi1YvauP+gRdyMC5YCqar4oI555fykii+HDvq9tgjDJmFUOvQO6Zye3OwxD8f8RiyQhMh2FBeF1rdOmu8WTXWbx17jh18iBGVu5trZlIkamHD37X0iZbIm1UV2CiaONNRWCaiSt5ES+EWPeyvb2Whm3htyp4wejaLEJ06DZhB8y6ENesU4xm9LMZxAy/vOe9G1BM0Xw2MIbfs9KViCo1wNp5QzlBGdt1XYOK45zZUuwuzPFKWZVgumNO1Jwd4PpSeeSsA1/jtoQ3i9tK8C92jVH9+5Qa/inDWkVzA6N50JJ+ECabnLVtXcHlZk1VrcAe/hxsgyPryGfMuIgZw8PelEVy+zh9rSvvUX73Tk9JghK0PuZ8r0Yrs8ryG0="


notifications:   
   slack: 
     rooms:
       - faederlab:l0waIGp58v8ZV74N7QmXGoWs      
     template:
       - "BioNetGen build: %{result} in %{duration}"
       - "Build: <%{build_url}|#%{build_number}> (<%{compare_url}|%{commit}>)    Author: %{author}"
       - "Download Distribution Package Here:"
       - "https://rawgit.com/RuleWorld/bionetgen/master/BNG_Build_Instructions.html"
       - "Build details:  %{build_url} "
   
  
script:
  - cd ./bng2
  - mkdir bindir_nfsim_atomizer
  - source .get_nfsim_atomizer.sh  ./bindir_nfsim_atomizer
  - cd ./Network3 && mkdir -p m4 && cd .. && perl make_dist.pl --build --validate  --bindir ./bindir_nfsim_atomizer
  - source .dist_unix.sh


after_success:
#  The make clean step has been added to make_dist.pl
#  - cd BioNetGen-2.3.0/Network3 && make clean && cd ../../.. && mkdir dist && mv ./bng2/BioNetGen-2.3.0 ./dist/$TRAVIS_OS_NAME && cd dist && tar cf $TRAVIS_OS_NAME.tar $TRAVIS_OS_NAME && gzip $TRAVIS_OS_NAME.tar && rm -rf $TRAVIS_OS_NAME && cd ..


